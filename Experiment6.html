<!-- This experiment tests subjects' reaction times classifying oval coins versus round (head-on and rotated) distractor coins with moving images with a fixed preview time.

Created by Jorge Morales, November, 2018 -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://chazfirestone.org/mturk/mturkfunctions.js"></script>

<script>
	//PARAMETERS//
	var experimentName = "Select the oval, dynamic stimuli with delay, Experiment 6";	    
    var giveFeedback = true;    
	var currentTrial = -1;
    var currentTrialPractice = -1;	    
    var nRepetitions = 13; // times 8 = total number of trials (13*8=104 + 5 practice + 4 questions = aprox. 6 minutes including instructions)
    var numPracticeTrials = 5;     
    	
    var trial;	
    var nTrials;     
    var trials = [];
    var allTrials = []; 
    var allTrialsss = []; 
    var allTrialsTargets = []; 
    var allTrialsDistractors = []; 
    var allTrialsResponseOrder = []; 
    var nTrialsPractice;     	
    var trialsPractice = [];
    var trialOrder = [];
    var trialPracticeOrder = [];
    var trialSlot = {	
		trialNum: 	[],				
		target:  	[],	
        distractor: [],
        responseOrder: [],
        stimulus:   [],
        rt:         [],
        response:   [],
		keyPressed: []
	}    
        
    var rt;
    var withinResponseWindow;
    var feedbackCorrect = "rgb(0, 160, 0)";
    var feedbackWrong = "rgb(160, 0, 0)";    
	
	var iti = 1000; //ms		
    var targetPreviewTime = 1000; //ms
    var targetMaxDuration = 1000; //ms	
    var feedbackDuration = 500; //ms	    
	var targetPresentedTime;
	var startHITTime;
    var checkResponse;
	var startExperimentTime;
	var startTrialTime;
	
	// FUNCTIONS
    
    // returns an array with element elem repeated n times.
    function repeatArray(elem, n) { 
        var arr = [];
        for (var i = 0; i < n; i++) {
            arr = arr.concat(elem);
        };

        return arr;
    };
    
	// Experimental & mTurk structure
    $(document).ready(function() {   
        startHITTime = new Date().getTime();			    
		generateTrials();    
        nTrials = allTrials.length;        		
        nTrialsPractice = trialsPractice.length;
        addHTML();
        blockIfPreviewing();  
		$(window).load(function() {			
			$('#waitLoadImages').hide();
			$('#startExperimentButton').show();
		});
        $('#startButton').click(startExperiment);  
        $('#finishButton').click(finalQuestionnaire);        
    });

	function addHTML() {
	//write html code for any required divs or inputs

		//experiment name and other info
		$('#experiment').append('<input type="hidden" id="experimentName" name="experimentName">');
		$('#experiment').append('<input type="hidden" id="browserName" name="browserName">');
		$('#experiment').append('<input type="hidden" id="browserVersion" name="browserVersion">');
		$('#experiment').append('<input type="hidden" id="displayWindowHeight" name="display.windowHeight">');
		$('#experiment').append('<input type="hidden" id="displayWindowWidth" name="display.windowWidth">');
		$('#experiment').append('<input type="hidden" id="displayScreenHeight" name="display.screenHeight">');
		$('#experiment').append('<input type="hidden" id="displayScreenWidth" name="display.screenWidth">');
		$('#experiment').append('<input type="hidden" id="experimentTime" name="experimentTime">');
		$('#experiment').append('<input type="hidden" id="totalTime" name="totalTime">');
		$('#experiment').append('<input type="hidden" id="completed" name="completed">');        

		//trial variables
		for (i = 0; i < nTrials; i++) {
			// trial number
            $('#experiment').append('<input type="hidden" id="t' + i + '_trialNum" name=t' + i + '_trialNum value="">');			
            //targets
            $('#experiment').append('<input type="hidden" id="t' + i + '_target" name=t' + i + '_target value="">');            
            //distractor
            $('#experiment').append('<input type="hidden" id="t' + i + '_distractor" name=t' + i + '_distractor value="">');            
            //stimulus
            $('#experiment').append('<input type="hidden" id="t' + i + '_stimulus" name=t' + i + '_stimulus value="">');            
            //response & RT            
			$('#experiment').append('<input type="hidden" id="t' + i + '_response" name=t' + i + '_response value="">');
			$('#experiment').append('<input type="hidden" id="t' + i + '_keyPressed" name=t' + i + '_keyPressed value="">'); 
			$('#experiment').append('<input type="hidden" id="t' + i + '_rt" name=t' + i + '_rt value="">');    
            $('#experiment').append('<input type="hidden" id="t' + i + '_responseOrder" name=t' + i + '_responseOrder value="">');    
		}
		
		// Final questionnaire
			$('#experiment').append('<input type="hidden" id="question1_coinCircular" name=question1_coinCircular value="">');        
			$('#experiment').append('<input type="hidden" id="question2_coinOval" name=question2_coinOval value="">'); 
			$('#experiment').append('<input type="hidden" id="question3_coinRotatedLeft" name=question3_coinRotatedLeft value="">');        
			$('#experiment').append('<input type="hidden" id="question4_coinRotatedRight" name=question4_coinRotatedRight value="">');
	}
	
	function assignExperimentInfo() {
	//record things like the name of the experiment, the browser information, etc.

		//name
		$('#experimentName').val(experimentName);

		//browserInfo
		var browserInfo = getBrowser();
		$('#browserName').val(browserInfo[0]);
		$('#browserVersion').val(browserInfo[1]);

		//displayInfo
		$('#displayWindowHeight').val($(window).height());
		$('#displayWindowWidth').val($(window).width());
		$('#displayScreenHeight').val(screen.height);
		$('#displayScreenWidth').val(screen.width);

		//time
		$('#experimentTime').val(new Date().getTime() - startExperimentTime);
		
		
	}
	
	function blockIfPreviewing() {
	//if the subject is viewing the HIT through the preview window, don't let them click anything
		if (IsOnTurk() && IsTurkPreview()) {
			$('body').append("<div id='previewMode'><p>PREVIEWING THE HIT</p><p>PREVIEWING THE HIT</p><p>PREVIEWING THE HIT</p></div>");
		}
		let expDivHeight = $("body").height();
		$("#previewMode").css("height", expDivHeight+200+"px");
	}
	
	function startExperiment () {
		startExperimentTime = new Date().getTime();	                
        $('#startExperimentButton').hide();	
        $('#instructions').hide();		
        $('.image').hide();
        $('.practice').show();   
        $(".progress").hide();   
        $(".practiceEnd").hide();
        $('.blank').show();         		
        $('.trialBox').css('display', 'grid');                
        $(".trialBox").css('background-color',"black");        
        $('#stimulus').css('display', 'grid');   
        $('#cover').css('height', $("#stimulusDiv").height() + "px");           
        $('#response1-2').css('height', $("#stimulusDiv").height() + "px");
        $('#response2-1').css('height', $("#stimulusDiv").height() + "px");        
        $('html,body').scrollTop(0);
        setTimeout(nextTrial, 3000);
	}	

	// Prepare & Present Trials 
	function generateTrials() {    
                        
        var targets = [["OvalOnLeft", "Circle"],["Circle","OvalOnRight"]];        
        var rotatedCircles = ["RotatedLeft", "HeadOn", "HeadOn", "RotatedRight"];        
    
        for (var i = 0; i < targets.length; i++) {            
            for (var j = 0; j < rotatedCircles.length; j++) {   
                var target;
                var distractor;
                var stimulus;
                if (i==0) {                    
                    target =  targets[0][0];
                    distractor = targets[0][1] + rotatedCircles[j];
                    stimulus = target + "-" + distractor;
                } else if (i==1) {                    
                    target =  targets[1][1];
                    distractor = targets[1][0] + rotatedCircles[j];
                    stimulus = distractor + "-" + target;
                }
                allTrialsTargets.push(target);
                allTrialsDistractors.push(distractor);
                allTrials.push(stimulus);                
            }
        }
                                               
        // create trial array for random (presentation)		                
        allTrials = repeatArray(allTrials, nRepetitions);				        
		allTrialsTargets = repeatArray(allTrialsTargets, nRepetitions);	        
		allTrialsDistractors = repeatArray(allTrialsDistractors, nRepetitions);
        trialOrder = RandomOrder(allTrials.length);        
        trialPracticeOrder = RandomOrder(allTrials.length);        
		
        allTrialsResponseOrder = repeatArray(["response1-2","response2-1"],allTrials.length/2);
        
		// create trialSlots tags
		
        for (var i = 0; i < numPracticeTrials; i++) {             
            trialsPractice[i] = trialSlot;						
            trialsPractice[i] = {
                trialNum: 	i + 1,                                     
                target:  	allTrialsTargets[trialPracticeOrder[i]],
                distractor: allTrialsDistractors[trialPracticeOrder[i]],
                responseOrder: allTrialsResponseOrder[trialPracticeOrder[i]],
                stimulus:  	allTrials[trialPracticeOrder[i]],
                rt:         "",
                response:   "",
				keyPressed: ""
            }
		}		      
				
		// create trialSlots tags
		
        for (var i = 0; i < allTrials.length; i++) {            
            trials[i] = trialSlot;						
            trials[i] = {
                trialNum: 	i + 1,                
                target:     allTrialsTargets[trialOrder[i]],
                distractor: allTrialsDistractors[trialOrder[i]],
                responseOrder: allTrialsResponseOrder[trialOrder[i]],
                stimulus:   allTrials[trialOrder[i]],			
                rt:         "",
                response:   "",
				keyPressed: ""
            }
		}
	}
    
    function nextTrial(){        
        $(".image").hide();
        $("#tooSlow").hide();
        $("#blank").show();    
        $(".trialBox").css('background-color',"black");
        
        if (currentTrialPractice == (nTrialsPractice - 1)) {
            currentTrialPractice++;
            $(".practiceEnd").show();			
            $(".practice").hide();
            $(".image").hide();
            $(".trialBox").css('background-color',"lightgray");            
            document.addEventListener('keydown', listenStartExperiment);     
        } else if (currentTrial < nTrials - 1){                     			            
            $('#progressBar').css('width', (Math.ceil(((currentTrial+1)/(nTrials))*100)) + 'px');			
            setTimeout(previewTarget, iti);   			
        } else if (currentTrial == (nTrials - 1)) {
			$('#questionsDiv').show();
			$('#experiment').hide();
			$('.progress').hide();	
        	$('.trialBox').hide();
        	$('#stimulus').hide();							
		}       
	}  
    
    function previewTarget() {            
        if (currentTrialPractice < (nTrialsPractice - 1)) { // choose whether to present experimental or practice trials
          currentTrialPractice++;
          trial = trialsPractice[currentTrialPractice];	              
        } else {          
          currentTrial++;
          trial = trials[currentTrial];              
        }
        $(".image").hide();	
        $('#' + trial.stimulus).show();
        $("#cover").show();
        setTimeout(presentTarget,targetPreviewTime)
    }
        
    function presentTarget(){ // present Target for 500ms
        $("#cover").hide();
        $('#' + trial.responseOrder).show();
        targetPresentedTime = new Date().getTime(); 
        document.addEventListener('keydown', listenKeyDown); 
        checkResponse = setTimeout(waitForResponse,targetMaxDuration);          
	} 
	
	function waitForResponse () {						
		if (trial.rt == "") {		
			trial.rt = new Date().getTime() - targetPresentedTime;
			document.removeEventListener('keydown', listenKeyDown);			
			responded('');													
		}					
	}		    
	  
	function listenKeyDown (e){
		if (e.keyCode == 49 /*1 == Oval on Left */ || e.keyCode == 50 /*2 == Oval on Right*/){	
			trial.rt = new Date().getTime() - targetPresentedTime;	
			document.removeEventListener('keydown', listenKeyDown);
            clearTimeout(checkResponse);
			responded(e.keyCode);					
		}
	}
	
	function responded(resp){				
		if (trial.responseOrder === "response1-2") {					
			if (resp === 49) { // 1 = OvalOnLeft
				trial.response = 'OvalOnLeft';
				trial.keyPressed = 1;
			} else if (resp === 50) { // 2 = OvalOnRight
				trial.response = 'OvalOnRight';
				trial.keyPressed = 2;
			} else {
				trial.response = 'slow';
				trial.keyPressed = 'slow';
			}
		} else if (trial.responseOrder === "response2-1") {
			if (resp === 49) { // 1 = OvalOnRight
				trial.response = 'OvalOnRight';
				trial.keyPressed = 1;
			} else if (resp === 50) { // 2 = OvalOnLeft
				trial.response = 'OvalOnLeft';
				trial.keyPressed = 2;
			} else {
				trial.response = 'slow';            	
				trial.keyPressed = 'slow';
			}
		}       
        $(".image").hide();
        $("#blank").show(); 
		console.log(trial.response);
		console.log(trial.rt);
        saveTrial(trial);
        if (giveFeedback == true) {
            feedback(trial.response);
        } else {
            nextTrial();
        }                              
    }	
    
    function feedback(resp) {          
		if (trial.target === resp) {
          $(".trialBox").css('background-color',feedbackCorrect);              
        } else { // if incorrect response
			$(".trialBox").css('background-color', feedbackWrong);	                        
			if (resp === 'slow') { // no response				
				$("#tooSlow").show();		                
			}
		}
		document.addEventListener('keyup', listenKeyUp);       
    }
    
    function listenKeyUp(e){        
        if (trial.response === 'slow') {
			if (e.keyCode == 32 /*spacebar*/){            					    
				document.removeEventListener('keyup', listenKeyUp);    	
				setTimeout(nextTrial, feedbackDuration); 
			}
		} else if (trial.response === 'OvalOnLeft' ||				
				trial.response === 'OvalOnRight') {
					document.removeEventListener('keyup', listenKeyUp);    	
					setTimeout(nextTrial, feedbackDuration);  
		}		
	} 
    
    function listenStartExperiment (e) {                 		 
		 if(e.keyCode == 32 /*spacebar*/) {  
			 document.removeEventListener('keydown', listenStartExperiment);     
			 $(".image").hide();
			 $("#blank").show();
			 $(".trialBox").css('background-color',"black");
			 $(".practiceEnd").hide();                
			 $(".progress").show();  
			 setTimeout(previewTarget, 3000);                
		 }				        
    }
    
    function saveTrial(trial) {    
	//save trial data 
        $('#' + 't' + currentTrial + '_trialNum').val(trial.trialNum);        
        $('#' + 't' + currentTrial + '_target').val(trial.target);  
        $('#' + 't' + currentTrial + '_distractor').val(trial.distractor);  
        $('#' + 't' + currentTrial + '_stimulus').val(trial.stimulus);  
        $('#' + 't' + currentTrial + '_rt').val(trial.rt);
        $('#' + 't' + currentTrial + '_response').val(trial.response);         
		$('#' + 't' + currentTrial + '_keyPressed').val(trial.keyPressed);
        $('#' + 't' + currentTrial + '_responseOrder').val(trial.responseOrder);         
	}	
    
    function finalQuestionnaire(){	
        $('html,body').scrollTop(0);
		var totalQuestions = $('.questions').length;
		var totalAnswers = $('.questions').find(':radio:checked').length;
		if (totalQuestions == totalAnswers) {
			var q1 = $("input[name='question1_coinCircular']:checked").val();
			var q2 = $("input[name='question2_coinOval']:checked").val();
			var q3 = $("input[name='question3_coinRotatedLeft']:checked").val();
			var q4 = $("input[name='question4_coinRotatedRight']:checked").val();
			$('#question1_coinCircular').val(q1);  
			$('#question2_coinOval').val(q2);  
			$('#question3_coinRotatedLeft').val(q3);  
			$('#question4_coinRotatedRight').val(q4);  			
			doneExperiment();  
			setTimeout(function () { $('#submitButton').click(); }, 120000);	
		}		
	}
	
	function doneExperiment() {		
		$('#completed').val(1);		
		assignExperimentInfo();		
		$('#experiment').hide();	
        $('#questionsDiv').hide();        		        
        $('#doneText').show();
		$('#commentBox').show();			 
        $('#submitButton').css('display','block'); 
		$('#experimentTime').val(new Date().getTime() - startExperimentTime);
		$('#submitButton').hover(function(){
			commentText = document.getElementById('commentBox').value;
			$('#comments').val(commentText);
			$('#totalTime').val(new Date().getTime() - startHITTime);
		});
	}	   
	
</script>

<style type="text/css">body {
		margin: 0;
		padding: 0;
		font-family: Arial, sans-serif;
		background-color: lightgray;
/*
	    box-sizing: border-box;	
        -moz box-sizing: border-box;	
*/
	}	
	 
	 a {
		 color: black;
		 background-color: snow;
		 text-decoration: none;
	 }
	 
	 a:hover {
		 color: gray;
	 }
	 a:active {
		 color: rgb(80,80,110);
	 }
	 
	 .container {		
        max-width: 900px;
        min-width: 900px;
		border: 0px solid black;	
		margin: auto;
		padding: 0px;	
		/*	white-space: pre-line;*/
		position: relative;
		font-family: Arial, sans-serif;
		color: black;				
		font-size: 16pt;	
		text-align: center;	
		display: block;			
	}

    .exampleOvalsGrid {
        display: grid;
        position: relative;
        width: 100%;
        height: 750px;
        grid-template-columns: 45% 10% 45%;
        grid-template-rows: 10% 45% 45%;  
        border: solid 0px black;         
        align-items: center;
        justify-items: center;
    }

    .image{                
        height: 100%; 
        z-index: 0;
    }
	
	.questionnaireImage{                
        height: 500px;
		justify-content: center;
    }

    .exampleImg {
        width: 300px;
        height: 300px;  
    }   

	.progress, .practice {
		text-align: center;
		display: none;        
		height: 60px;
	}	 	
	
    .practiceEnd {
        display: none;
        font-size: 16 pt;
		color: black;		
		margin: 10px auto;
        text-align: center;
    }

    .trialBox {		
        display: none;		
        margin: auto;	                        
		height: 600px;
		width: 600px;        
		border: 0px solid black;	
        background-color: lightgray;
        justify-items: center;
        align-items: center;        		
	}	
    
    .myButton {			
		display: block;
		width: 170px;
		-align:center;
		text-align: center;
		color: black;
		font-size:14pt;
		border: 3px outset darkgray;
		background-color: snow;
		padding: 8px;
		text-decoration: none;
		font-weight: bold;
		margin: 30px auto;		
	}
    
    #cover,#response1-2,#response2-1 {
        position: absolute;
        z-index: 1;
        height: 1570px;
    }

	#commentBox {
		display:none;
		width: 400px;
		height: 100px;	
		margin: 20px auto 0 auto;
		font-size: 11pt;
	}

	#doneText {
		display:none;
		width: 500px;
		height: 210px;
		text-align:center;
		margin: 30px auto 10px auto;	
		font-size:14pt;	
	}
    
    #exampleOvalOnLeftInstructions { 
        grid-column: 1 / 1;
        grid-row: 1 / 1;
    }
    
    #exampleOvalOnRightInstructions { 
        grid-column: 3 / 3;
        grid-row: 1 / 1;
    }
    
    #exampleOvalOnLeft { 
        grid-column: 1 / 1;
        grid-row: 2 / 2;
    }
    
    #exampleOvalOnRight { 
        grid-column: 3 / 3;
        grid-row: 2 / 2;
    }
	
	#exampleOvalOnLeft2 { 
        grid-column: 3 / 3;
        grid-row: 3 / 3;
    }
    
    #exampleOvalOnRight2 { 
        grid-column: 1 / 1;
        grid-row: 3 / 3;
    }
    
	#instructions {
		margin-top: 80px;
	} 	
	
	#progressOutline {
		background: white;
		border: 3px solid black;
		width: 100px;	
		height: 20px;
		margin: 10px auto;	
	}

	#progressText, #practiceText,#practiceTextEnd {
		font-size: 16pt;
		color: black;
		font-weight: bold;
		margin: 10px auto;
	}
	
	#progressBar {		
		display: none;
		background: gray;
		width: 0px;
		height: 20px;
		margin-bottom: 1px;
	 }

    #previewMode p {
	margin-top:100px;
    }

    #previewMode {
	position:absolute;
	top:0px;
	left:0px;
	width:100%;
	height:2500px;
	text-align: center;
	font-size: 54pt;
	background: lightgray;
	opacity: 0.60;
    }

    #stimulusDiv {
        display: grid;
        justify-items: center;
        align-items: center;
        height: 95%;
        width: 95%;
    }
	
	
 	#startExperimentButton {	
		
		display: none;
		width: 170px;
		vertical-align:center;
		text-align: center;
		color: black;
		font-size:14pt;
		border: 3px outset darkgray;
		background-color: snow;
		padding: 8px;
		text-decoration: none;
		font-weight: bold;
		margin: 30px auto;		
	}
 
	#submitButton {
		display: none;
		align-content: center;
		align-self: center;
		align-items: center;
		margin: 40px auto;
		border: 3px outset black;
		padding: 8px;
		font-size: 14pt;
		font-weight: 600;
	}
    
    #tooSlow {
        display: none;
		position: fixed;
		width: 600px;
		text-align: center;
		margin-top: 40px;
		font-size: 30pt;
		font-weight: 600;
    }
	
	#questionsDiv {
		display: none;
		margin: auto;
        max-width: 900px;
        min-width: 900px;
		text-align: center;
		margin-top: 40px;
		font-size: 16pt;
	}
	
	#questionsButton {			
		display: block;
		width: 200px;
		vertical-align:center;
		text-align: center;
		color: black;
		font-size:14pt;
		border: 3px outset darkgray;
		background-color: snow;
		padding: 8px;
		text-decoration: none;
		font-weight: bold;
		margin: 30px auto;		
	}
</style>
<title>Shape recognition</title>

<div id="experiment">
    <div class="container" id="instructions">
    <p><span style="font-size: 18pt"><strong>Select the oval object as fast as you can without making mistakes!</strong></span><br />
    <br />
    <br />
    Help us understand better how humans detect objects correctly under different conditions. 
		
	<br><br>
	You will see two marble blocks. On one of the blocks there will always be an oval object like the ones indicated by the red arrow below (the objects on the other block will change on every trial, but they will never be an oval). After the objects move briefly, the numbers 1 and 2 --in any order-- will appear on the marble blocks. <br />
    </p>

    <div class="exampleOvalsGrid">
		<p id="exampleOvalOnLeftInstructions">Press <b>&quot;1&quot;</b> when the <b>Oval Object<br />
		is on Block 1</b></p>
		
		<img alt="example_image_1" class="exampleImg" id="exampleOvalOnLeft" src="http://jm.perceptionresearch.org/select_oval/movies/OvalOnLeft-CircleRotatedLeft_small.gif" />

		<img alt="example_image_4" class="exampleImg" id="exampleOvalOnRight2" src="http://jm.perceptionresearch.org/select_oval/movies/CircleHeadOn-OvalOnRight2_small.gif" />
	
		
		<p id="exampleOvalOnRightInstructions">Press <b>&quot;2&quot;</b> when the <b>Oval Object<br />
		is on Block 2</b></p>
	
		<img alt="example_image_3" class="exampleImg" id="exampleOvalOnRight" src="http://jm.perceptionresearch.org/select_oval/movies/CircleHeadOn-OvalOnRight_small.gif" />
		
		<img alt="example_image_2" class="exampleImg" id="exampleOvalOnLeft2" src="http://jm.perceptionresearch.org/select_oval/movies/OvalOnLeft-CircleRotatedLeft2_small.gif" />
		
	</div>
    <br />
    <br />
    <b>Your task is to press &quot;1&quot; or &quot;2&quot; on your keyboard to indicate the number of the block where the oval object is. Note that the numbers may appear on different marble blocks on each trial.</b><br><br>
    You should do this as <b>quickly</b> as you can <b>without making mistakes</b>. You'll have up to <b>1 second to respond</b>. We'll let you know if you were too slow. Please mind that your responses will be useful only if at least 80% of them are correct. We will give you feedback on each trial (green = correct, red = wrong).<br />
    <br />
		 
	Note that the 	
    This HIT is short (~6 minutes), so please try to stay focused. It's important that you pay attention to the screen all the time.<br />
    <br />
    Make sure your browser window is maximized. You must be on a laptop or desktop computer to participate in this HIT (no cellphones or tablets). Click &quot;Start Experiment&quot; to begin with a few practice trials.<br />
    <br />
    <em>By completing this survey or questionnaire, you are consenting to be in this research study. Your participation is voluntary and you can stop at any time.</em><br />
    </div>
	<br>
    <div class = container id = waitLoadImages><em><b>Please wait while your browser finishes a few things behind the scenes.</b></em></div>
    <div class = "myButton" id="startExperimentButton"><a href="#" id="startButton">Start Experiment</a></div>

    <div class="progress" id="progressText">Progress
<div class="progress" id="progressOutline">
<div class="progress" id="progressBar"></div>
</div>
</div>

    <div class="practice" id="practiceText">Practice</div>

    <div class="practiceEnd">You're done with practice!<br />
<br />
If you haven't already, please maximize your browser window.<br />
<br />
Press <em>spacebar</em> to start the experiment.</div>

    <div class="trialBox">
		<div id="stimulusDiv">
			<img alt="stim1" class="image stimulus" id="CircleHeadOn-OvalOnRight" src="http://jm.perceptionresearch.org/select_oval/movies/CircleHeadOn-OvalOnRight.gif" /> 
			<img alt="stim2" class="image stimulus" id="CircleRotatedLeft-OvalOnRight" src="http://jm.perceptionresearch.org/select_oval/movies/CircleRotatedLeft-OvalOnRight.gif" /> 
			<img alt="stim3" class="image stimulus" id="CircleRotatedRight-OvalOnRight" src="http://jm.perceptionresearch.org/select_oval/movies/CircleRotatedRight-OvalOnRight.gif" /> 
			<img alt="stim4" class="image stimulus" id="OvalOnLeft-CircleHeadOn" src="http://jm.perceptionresearch.org/select_oval/movies/OvalOnLeft-CircleHeadOn.gif" /> 
			<img alt="stim5" class="image stimulus" id="OvalOnLeft-CircleRotatedLeft" src="http://jm.perceptionresearch.org/select_oval/movies/OvalOnLeft-CircleRotatedLeft.gif" /> 
			<img alt="stim6" class="image stimulus" id="OvalOnLeft-CircleRotatedRight" src="http://jm.perceptionresearch.org/select_oval/movies/OvalOnLeft-CircleRotatedRight.gif" /> 
			<img alt="stim7" class="image blank" id="blank" src="http://jm.perceptionresearch.org/select_oval/movies/blank_no_num.jpg" /> 
			<img alt= "cover" class = "image cover" id = "cover" src = "http://jm.perceptionresearch.org/select_oval/movies/cover.png" /> 
			<img alt= "response1-2" class = "image response1-2" id = "response1-2" src = "http://jm.perceptionresearch.org/select_oval/movies/response1-2.png" /> 
			<img alt= "response2-1" class = "image response2-1" id = "response2-1" src = "http://jm.perceptionresearch.org/select_oval/movies/response2-1.png" />
    
<p id="tooSlow">Too slow!<br />
<br />
<span style="font-size: 20pt;">Press spacebar to continue</span></p>
</div>
</div>
</div>

<div id="questionsDiv">
    <p>Good job! Sometimes the images we use fail to display correctly. We just want to make sure they were correctly displayed for you. Before you submit, please answer the following four questions:</p>
    

    <div class="questions"><img alt="question_image_1" class="questionnaireImage" id="coinCircular" src="http://jm.perceptionresearch.org/select_oval/movies/coinCircular.gif" /><br />
    
    <p>What is this?</p>
    <input id="question1_coinCircular" name="question1_coinCircular" type="radio" value="circle" />A circular object<br />
    <input id="question1_coinCircular" name="question1_coinCircular" type="radio" value="oval" /> An oval object<br />
    <br />
    <br />
    <br />
    </div>

    <div class="questions"><img alt="question_image_2" class="questionnaireImage" id="question2_coinOval" src="http://jm.perceptionresearch.org/select_oval/movies/coinOval.gif" /><br />
    
    <p>What is this?</p>
    <input id="question2_coinOval" name="question2_coinOval" type="radio" value="circle" />A circular object<br />
    <input id="question2_coinOval" name="question2_coinOval" type="radio" value="oval" /> An oval object<br />
    <br />
    <br />
    <br />
    </div>

    <div class="questions"><img alt="question_image_3" class="questionnaireImage" id="question3_coinRotatedLeft" src="http://jm.perceptionresearch.org/select_oval/movies/coinRotatedLeft.gif" /><br />
    
    <p>What is this?</p>
    <input id="question3_coinRotatedLeft" name="question3_coinRotatedLeft" type="radio" value="circleLeft" />A circular object<br />
    <input id="question3_coinRotatedLeft" name="question3_coinRotatedLeft" type="radio" value="oval" /> An oval object<br />
    <br />
    <br />
    <br />
    </div>

    <div class="questions"><img alt="question_image_4" class="questionnaireImage" id="question4_coinRotatedRight" src="http://jm.perceptionresearch.org/select_oval/movies/coinRotatedRight.gif" /><br />
    
    <p>What is this?</p>
    <input id="question4_coinRotatedRight" name="question4_coinRotatedRight" type="radio" value="circleRight" />A circular object<br />
    <input id="question4_coinRotatedRight" name="question4_coinRotatedRight" type="radio" value="oval" /> An oval object<br />
    <br />
</div>
    
    <div>
	   <a href="#" class = "myButton" id="finishButton">Show submit button</a>
    </div>	
</div>

<div id="doneText"><strong>All done! You can now submit the HIT. Thank you!</strong><br />
    
    <p>Please feel free to leave any comments below about how the experiment went.</p>
    <textarea cols="40" id="commentBox" placeholder="  Enter you comments here..." row="4"></textarea> <input id="comments" name="comments" type="hidden" /><br />
    
</div>